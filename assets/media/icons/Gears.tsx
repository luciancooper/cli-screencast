import type { FunctionComponent } from 'react';

interface GearPath {
    path: string
    center: [x: number, y: number]
    clockwise: 0 | 1
}

const gearPaths: GearPath[] = [{
    // bottom right
    path: 'M.8277.8917C.8141.8975.7986.8931.7886.882L.7577.8473C.747.8491.7361.85.725.85S.703.8491.6923.8473L.6614.882'
    + 'C.6516.8931.6361.8975.6223.8917C.6141.8881.6059.8842.5981.8798L.5897.875C.5819.8703.5742.8652.5669.8597'
    + 'C.555.8508.5511.8352.5558.8211L.5703.777C.5566.7603.5453.7411.5377.7205L.4923.7109C.4778.708.4663.6967.4645.682'
    + 'C.4633.6716.4627.6609.4627.6502S.4633.6288.4645.6183C.4663.6036.478.5923.4923.5894L.5378.5798'
    + 'C.5456.5591.5567.54.5705.5233L.5559.4792C.5513.4652.5552.4495.567.4406C.5744.4352.582.43.5898.4252L.598.4205'
    + 'C.6058.4161.6139.4122.6223.4086C.6359.4028.6514.4072.6614.4183L.6923.453C.703.4513.7139.4503.725.4503'
    + 'S.747.4513.7577.453L.7886.4183C.7984.4072.8139.4028.8277.4086C.8359.4122.8441.4161.852.4205L.8603.4252'
    + 'C.8683.4298.8758.435.8831.4406C.895.4495.8989.4652.8942.4792L.8797.5233C.8934.54.9047.5592.9123.5798'
    + 'L.9578.5894C.9723.5923.9839.6036.9856.6183C.9869.6288.9875.6394.9875.6502S.9869.6716.9856.682'
    + 'C.9839.6967.9722.708.9578.7109L.9123.7203C.9045.7411.8934.7602.8797.7769L.8942.8209C.8989.835.895.8506.8831.8595'
    + 'C.8758.865.8683.8702.8603.8748L.8519.8797C.8441.8841.8359.888.8277.8916z'
    + 'M.65.65C.65.6914.6836.725.725.725S.8.6914.8.65S.7664.575.725.575S.65.6086.65.65z',
    center: [0.725, 0.65],
    clockwise: 0,
}, {
    // top left
    path: 'M.4917.2723C.4975.2859.4931.3014.482.3114L.4473.3423C.4491.353.45.3639.45.375S.4491.397.4473.4077L.482.4386'
    + 'C.4931.4484.4975.4639.4917.4777C.4881.4859.4842.4941.4798.5019L.475.5103C.4703.5181.4652.5258.4597.5331'
    + 'C.4508.545.4352.5489.4211.5442L.377.5297C.3603.5434.3411.5547.3205.5623L.3109.6077C.308.6222.2967.6337.282.6355'
    + 'C.2716.6367.2609.6373.2502.6373S.2288.6367.2183.6355C.2036.6337.1923.622.1894.6077L.1797.5623'
    + 'C.1589.5545.1398.5434.1231.5297L.0791.5442C.065.5489.0494.545.0405.5331C.035.5258.0298.5181.025.5103'
    + 'L.0203.5022C.0159.4944.012.4863.0084.4778C.0027.4642.007.4488.0181.4387L.0528.4078C.0509.397.05.3861.05.375'
    + 'S.0509.353.0527.3423L.018.3114C.0069.3016.0025.2861.0083.2723C.0119.2641.0158.2559.0202.248L.0248.2397'
    + 'C.0295.2317.0347.2242.0403.2169C.0492.205.0648.2011.0789.2058L.123.2203C.1397.2066.1589.1953.1795.1877'
    + 'L.1891.1423C.192.1278.2033.1163.218.1145C.2286.1131.2392.1125.25.1125S.2714.1131.2819.1144'
    + 'C.2966.1161.3078.1278.3108.1422L.3203.1877C.3411.1955.3602.2066.3769.2203L.4209.2058'
    + 'C.435.2011.4506.205.4595.2169C.465.2242.4702.2317.4748.2397L.4797.2481C.4841.2559.488.2641.4916.2723z'
    + 'M.25.45C.2914.45.325.4164.325.375S.2914.3.25.3S.175.3336.175.375S.2086.45.25.45z',
    center: [0.25, 0.375],
    clockwise: 1,
}];

const GearsIcon: FunctionComponent<{ id: string, animate?: boolean }> = ({ id, animate = false }) => (
    <symbol id={id} viewBox='0 0 1 1'>
        {gearPaths.map(({ path, center: [cx, cy], clockwise }, idx) => (
            <path key={`gear-path-${idx}`} d={path}>
                {animate ? (
                    <animateTransform
                        attributeName='transform'
                        attributeType='XML'
                        type='rotate'
                        repeatCount='indefinite'
                        dur='5s'
                        from={`${(clockwise ^ 1) * 360} ${cx} ${cy}`}
                        to={`${clockwise * 360} ${cx} ${cy}`}
                    />
                ) : null}
            </path>
        ))}
    </symbol>
);

export default GearsIcon;